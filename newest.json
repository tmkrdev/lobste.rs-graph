[{"short_id":"e8abqn","created_at":"2025-06-07T12:46:55.000-05:00","title":"How can one write blazing fast yet useful compilers (for lazy pure functional languages)?","url":"","score":5,"flags":1,"comment_count":11,"description":"\u003cp\u003eI’ve decided enough is enough and I want to write my own compiler (seems I caught a bug and lobste.rs is definitely not discouraging it). The language I have in mind is a basic (lazy?) statically-typed pure functional programming language with do notation and records (i.e. mostly Haskell-lite).\u003c/p\u003e\n\u003cp\u003eI have other ideas I’d like to explore as well, but mainly, I want the compiler to be so fast (w/ optimisations) that people think there must have been a glitch; a cold build, including linking, of hundreds of thousands of lines in tens of milliseconds on a five-year-old mid-range laptop.\u003c/p\u003e\n\u003cp\u003eThe question I have is: what do I need to do at every level to pull this off? From lexing and parsing through typechecking and optimisation to interpretation and/or code generation, etc.\u003c/p\u003e\n\u003cp\u003eThere’s lots out there about writing compilers, even fast parsers, but not a lot that focuses on performance of the latter phases of a compiler. Any techniques, resources, information, or advice on writing fast compilers would be appreciated.\u003c/p\u003e\n\u003cp\u003eProbably a lot of this doesn’t matter immediately as I can piecemeal replace modules or optimise their performance after getting things working, but I’d like to get ideas in advance and know what to look up instead of asking about each part as I get to it.\u003c/p\u003e\n\u003cp\u003eAnyway, my other major constraints are indentation-sensitive syntax, reusability of components for LSPs, formatters, linters, etc. (as well as possibly exposing it in my language’s stdlib), plus quick and easy fairly portable bootstrapping of the compiler itself from any machine with a basic toolchain, which basically forces C on me.\u003c/p\u003e\n\u003cp\u003eI’m thinking of creating a whole separate post for that, on how best to avoid getting burnt by undefined behaviour especially. It may even be worth giving up on the goal of easy bootstrapping to avoid writing in such an insanely risky language (albeit with fuzzers, extensive testing of various types, and so on).\u003c/p\u003e\n\u003cp\u003eSticking to the performance question, though, this is getting a bit long, so I’ll post a comment about what I’m thinking and some of the questions that are rattling in my head for each stage.\u003c/p\u003e\n","description_plain":"I've decided enough is enough and I want to write my own compiler (seems I caught a bug and lobste.rs is definitely not discouraging it). The language I have in mind is a basic (lazy?) statically-typed pure functional programming language with do notation and records (i.e. mostly Haskell-lite).\r\n\r\nI have other ideas I'd like to explore as well, but mainly, I want the compiler to be so fast (w/ optimisations) that people think there must have been a glitch; a cold build, including linking, of hundreds of thousands of lines in tens of milliseconds on a five-year-old mid-range laptop.\r\n\r\nThe question I have is: what do I need to do at every level to pull this off? From lexing and parsing through typechecking and optimisation to interpretation and/or code generation, etc.\r\n\r\nThere's lots out there about writing compilers, even fast parsers, but not a lot that focuses on performance of the latter phases of a compiler. Any techniques, resources, information, or advice on writing fast compilers would be appreciated.\r\n\r\nProbably a lot of this doesn't matter immediately as I can piecemeal replace modules or optimise their performance after getting things working, but I'd like to get ideas in advance and know what to look up instead of asking about each part as I get to it.\r\n\r\nAnyway, my other major constraints are indentation-sensitive syntax, reusability of components for LSPs, formatters, linters, etc. (as well as possibly exposing it in my language's stdlib), plus quick and easy fairly portable bootstrapping of the compiler itself from any machine with a basic toolchain, which basically forces C on me.\r\n\r\nI'm thinking of creating a whole separate post for that, on how best to avoid getting burnt by undefined behaviour especially. It may even be worth giving up on the goal of easy bootstrapping to avoid writing in such an insanely risky language (albeit with fuzzers, extensive testing of various types, and so on).\r\n\r\nSticking to the performance question, though, this is getting a bit long, so I'll post a comment about what I'm thinking and some of the questions that are rattling in my head for each stage.","submitter_user":"habibalamin","user_is_author":true,"tags":["ask","compilers","performance"],"short_id_url":"https://lobste.rs/s/e8abqn","comments_url":"https://lobste.rs/s/e8abqn/how_can_one_write_blazing_fast_yet_useful"},{"short_id":"ntsbnt","created_at":"2025-06-07T12:02:09.000-05:00","title":"memvid: Video-based AI memory library","url":"https://github.com/Olow304/memvid","score":3,"flags":0,"comment_count":1,"description":"","description_plain":"","submitter_user":"jdh","user_is_author":false,"tags":["ai"],"short_id_url":"https://lobste.rs/s/ntsbnt","comments_url":"https://lobste.rs/s/ntsbnt/memvid_video_based_ai_memory_library"},{"short_id":"an5g0c","created_at":"2025-06-07T11:57:32.000-05:00","title":"Astonishing discovery by computer scientist: how to squeeze space into time","url":"https://www.youtube.com/watch?v=8JuWdXrCmWg","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"james","user_is_author":false,"tags":["compsci","video"],"short_id_url":"https://lobste.rs/s/an5g0c","comments_url":"https://lobste.rs/s/an5g0c/astonishing_discovery_by_computer"},{"short_id":"ubqtpe","created_at":"2025-06-07T11:22:28.000-05:00","title":"What was Radiant AI, anyway?","url":"https://blog.paavo.me/radiant-ai/","score":4,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"payne","user_is_author":false,"tags":["games"],"short_id_url":"https://lobste.rs/s/ubqtpe","comments_url":"https://lobste.rs/s/ubqtpe/what_was_radiant_ai_anyway"},{"short_id":"chmlid","created_at":"2025-06-07T11:08:02.000-05:00","title":"Nix 2.29.0 with Nix Team members","url":"https://fulltimenix.com/episodes/nix-2-29-0-with-nix-team-members","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"mightyiam","user_is_author":true,"tags":["audio","nix"],"short_id_url":"https://lobste.rs/s/chmlid","comments_url":"https://lobste.rs/s/chmlid/nix_2_29_0_with_nix_team_members"},{"short_id":"yfabqc","created_at":"2025-06-07T10:14:33.000-05:00","title":"Thermodynamic Computing","url":"https://knowm.org/thermodynamic-computing/","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"dmonay","user_is_author":false,"tags":["philosophy","programming"],"short_id_url":"https://lobste.rs/s/yfabqc","comments_url":"https://lobste.rs/s/yfabqc/thermodynamic_computing"},{"short_id":"v36nvz","created_at":"2025-06-07T07:04:45.000-05:00","title":"Simplifying and Isolating Failure-Inducing Input (Delta Debugging)","url":"https://www.cs.purdue.edu/homes/xyzhang/fall07/Papers/delta-debugging.pdf","score":1,"flags":0,"comment_count":1,"description":"","description_plain":"","submitter_user":"teymour","user_is_author":false,"tags":["debugging","pdf"],"short_id_url":"https://lobste.rs/s/v36nvz","comments_url":"https://lobste.rs/s/v36nvz/simplifying_isolating_failure_inducing"},{"short_id":"bxpwqt","created_at":"2025-06-07T07:00:09.000-05:00","title":"I Read All Of Cloudflare's Claude-Generated Commits","url":"https://www.maxemitchell.com/writings/i-read-all-of-cloudflares-claude-generated-commits/","score":15,"flags":0,"comment_count":8,"description":"","description_plain":"","submitter_user":"eduard","user_is_author":false,"tags":["vibecoding"],"short_id_url":"https://lobste.rs/s/bxpwqt","comments_url":"https://lobste.rs/s/bxpwqt/i_read_all_cloudflare_s_claude_generated"},{"short_id":"km8aeu","created_at":"2025-06-07T05:44:36.000-05:00","title":"Open Source: Deceptive Power or Collective Governance?","url":"https://vlad.website/open-source-deceptive-power-or-collective-governance/","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"jbauer","user_is_author":false,"tags":["culture","philosophy"],"short_id_url":"https://lobste.rs/s/km8aeu","comments_url":"https://lobste.rs/s/km8aeu/open_source_deceptive_power_collective"},{"short_id":"k1pj8b","created_at":"2025-06-07T05:34:23.000-05:00","title":"MapLibre Newsletter May 2025","url":"https://maplibre.org/news/2025-06-02-maplibre-newsletter-may-2025/","score":2,"flags":0,"comment_count":1,"description":"","description_plain":"","submitter_user":"adamshaylor","user_is_author":false,"tags":["release","visualization"],"short_id_url":"https://lobste.rs/s/k1pj8b","comments_url":"https://lobste.rs/s/k1pj8b/maplibre_newsletter_may_2025"},{"short_id":"kvhjf8","created_at":"2025-06-07T05:29:18.000-05:00","title":"Unveiling the EndBOX","url":"https://www.endbasic.dev/2025/06/unveiling-the-endbox.html","score":10,"flags":0,"comment_count":3,"description":"","description_plain":"","submitter_user":"jaypatelani","user_is_author":false,"tags":["netbsd"],"short_id_url":"https://lobste.rs/s/kvhjf8","comments_url":"https://lobste.rs/s/kvhjf8/unveiling_endbox"},{"short_id":"sny4ob","created_at":"2025-06-07T03:32:01.000-05:00","title":"A tool for burning visible pictures on a compact disc surface","url":"https://github.com/arduinocelentano/cdimage","score":13,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"cfenollosa","user_is_author":false,"tags":["art","hardware"],"short_id_url":"https://lobste.rs/s/sny4ob","comments_url":"https://lobste.rs/s/sny4ob/tool_for_burning_visible_pictures_on"},{"short_id":"pk22xl","created_at":"2025-06-07T02:40:35.000-05:00","title":"Enable Dark Theme in LibreWolf","url":"https://bitwilli.com/enable-dark-theme-in-librewolf","score":1,"flags":0,"comment_count":1,"description":"","description_plain":"","submitter_user":"runxiyu","user_is_author":false,"tags":["browsers","privacy"],"short_id_url":"https://lobste.rs/s/pk22xl","comments_url":"https://lobste.rs/s/pk22xl/enable_dark_theme_librewolf"},{"short_id":"iv5cyv","created_at":"2025-06-07T02:00:41.000-05:00","title":"First usermode exploit and more: Nintendo Switch 2 had a busy (hacking) week for its launch","url":"https://wololo.net/2025/06/06/first-usermode-exploit-and-more-nintendo-switch-2-had-a-busy-hacking-week-for-its-launch/","score":13,"flags":0,"comment_count":1,"description":"","description_plain":"","submitter_user":"raymii","user_is_author":false,"tags":["hardware","security"],"short_id_url":"https://lobste.rs/s/iv5cyv","comments_url":"https://lobste.rs/s/iv5cyv/first_usermode_exploit_more_nintendo"},{"short_id":"gruwz1","created_at":"2025-06-06T23:54:38.000-05:00","title":"GPU Memory Consistency: Specifications, Testing, and Opportunities for Performance Tooling","url":"https://www.sigarch.org/gpu-memory-consistency-specifications-testing-and-opportunities-for-performance-tooling/","score":2,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"abhi9u","user_is_author":false,"tags":["hardware"],"short_id_url":"https://lobste.rs/s/gruwz1","comments_url":"https://lobste.rs/s/gruwz1/gpu_memory_consistency_specifications"},{"short_id":"kwhgwm","created_at":"2025-06-06T18:20:35.000-05:00","title":"Malicious Ruby Gems Exfiltrate Telegram Tokens and Messages Following Vietnam Ban","url":"https://socket.dev/blog/malicious-ruby-gems-exfiltrate-telegram-tokens-and-messages-following-vietnam-ban","score":2,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"soulcutter","user_is_author":false,"tags":["ruby","security"],"short_id_url":"https://lobste.rs/s/kwhgwm","comments_url":"https://lobste.rs/s/kwhgwm/malicious_ruby_gems_exfiltrate_telegram"},{"short_id":"wnowgw","created_at":"2025-06-06T17:02:02.000-05:00","title":"A year of funded FreeBSD","url":"http://www.daemonology.net/blog/2025-06-06-A-year-of-funded-FreeBSD.html","score":25,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"teymour","user_is_author":false,"tags":["freebsd"],"short_id_url":"https://lobste.rs/s/wnowgw","comments_url":"https://lobste.rs/s/wnowgw/year_funded_freebsd"},{"short_id":"birojb","created_at":"2025-06-06T16:27:42.000-05:00","title":"Hacking is Necessary","url":"https://scharenbroch.dev/blog/hacking-is-necessary/","score":10,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"veqq","user_is_author":false,"tags":["practices"],"short_id_url":"https://lobste.rs/s/birojb","comments_url":"https://lobste.rs/s/birojb/hacking_is_necessary"},{"short_id":"7izxi1","created_at":"2025-06-06T15:06:08.000-05:00","title":"Smalltalk, Haskell and Lisp (2011)","url":"https://storytotell.org/smalltalk-haskell-and-lisp","score":4,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"veqq","user_is_author":false,"tags":["haskell","plt"],"short_id_url":"https://lobste.rs/s/7izxi1","comments_url":"https://lobste.rs/s/7izxi1/smalltalk_haskell_lisp_2011"},{"short_id":"wrdnsx","created_at":"2025-06-06T13:28:16.000-05:00","title":"The next phase of jank's C++ interop","url":"https://jank-lang.org/blog/2025-06-06-next-phase-of-interop/","score":19,"flags":0,"comment_count":4,"description":"","description_plain":"","submitter_user":"jeaye","user_is_author":true,"tags":["c++","clojure","compilers","plt"],"short_id_url":"https://lobste.rs/s/wrdnsx","comments_url":"https://lobste.rs/s/wrdnsx/next_phase_jank_s_c_interop"},{"short_id":"1yt2qz","created_at":"2025-06-06T13:18:27.000-05:00","title":"Supercharging GCP Navigation with Alfred","url":"https://dineshgowda.com/posts/supercharging-gcp-navigation-with-alfred/","score":4,"flags":0,"comment_count":1,"description":"","description_plain":"","submitter_user":"dineshgowda","user_is_author":true,"tags":["go","programming","release"],"short_id_url":"https://lobste.rs/s/1yt2qz","comments_url":"https://lobste.rs/s/1yt2qz/supercharging_gcp_navigation_with"},{"short_id":"6ssfjk","created_at":"2025-06-06T12:07:56.000-05:00","title":"Binary Lambda Calculus","url":"https://gist.github.com/tromp/86b3184f852f65bfb814e3ab0987d861","score":7,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"veqq","user_is_author":false,"tags":["math","plt"],"short_id_url":"https://lobste.rs/s/6ssfjk","comments_url":"https://lobste.rs/s/6ssfjk/binary_lambda_calculus"},{"short_id":"xiem4j","created_at":"2025-06-06T11:47:13.000-05:00","title":"CLIPS: An Elevator Pitch","url":"https://ryjo.codes/articles/clips-elevator-pitch.html","score":7,"flags":0,"comment_count":3,"description":"","description_plain":"","submitter_user":"veqq","user_is_author":false,"tags":["c","plt"],"short_id_url":"https://lobste.rs/s/xiem4j","comments_url":"https://lobste.rs/s/xiem4j/clips_elevator_pitch"},{"short_id":"wuu0zg","created_at":"2025-06-06T11:35:26.000-05:00","title":"ws4sqlite: Query sqlite via json+http","url":"https://github.com/proofrock/ws4sqlite","score":2,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"blaix","user_is_author":false,"tags":["databases"],"short_id_url":"https://lobste.rs/s/wuu0zg","comments_url":"https://lobste.rs/s/wuu0zg/ws4sqlite_query_sqlite_via_json_http"},{"short_id":"guet32","created_at":"2025-06-06T10:45:48.000-05:00","title":"Recovering control flow structures without CFGs","url":"https://purplesyringa.moe/blog/recovering-control-flow-structures-without-cfgs/","score":7,"flags":0,"comment_count":0,"description":"","description_plain":"","submitter_user":"fanf","user_is_author":false,"tags":["java","plt"],"short_id_url":"https://lobste.rs/s/guet32","comments_url":"https://lobste.rs/s/guet32/recovering_control_flow_structures"}]